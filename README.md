/|\Test-Task
    Скрипт для генерации различных отчётов на основе данных из CSV-файлов


/|\ Назначение

    Скрипт анализирует данные сотрудников из CSV-файлов и генерирует различные отчёты:

        - Отчёт по выплатам зарплат (payout)
        - Средняя ставка по отделам (avg_rate)  #Пример


/|\ Установка

    Клонируйте репозиторий (bash):

        - git clone https://github.com/1PeePer/test-task.git
        - cd test-task


/|\ Использование (базовый запуск в bash)

    - python main.py .\data\data1.csv .\data\data2.csv --report payout
    - python main.py .\data\data1.csv .\data\data2.csv  #Для вывода сводки о зарплатах можно не указывать аргумент payout (он используется по умолчанию)

    Пример вывода:

         MARKETING   name                   rate   hours     payout
        =================================================================
        | --------- | Alice Johnson        | 50   | 160 h   | $8000     |
        | --------- | Henry Martin         | 35   | 150 h   | $5250     |
        =================================================================
        | total :   | --------------------------- | 310 h   | $13250    |
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


          DESIGN      name                   rate   hours     payout
        =================================================================
        | --------- | Bob Smith            | 40   | 150 h   | $6000     |
        | --------- | Carol Williams       | 60   | 170 h   | $10200    |
        =================================================================
        | total :   | --------------------------- | 320 h   | $16200    |
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


          HR          name                   rate   hours     payout
        =================================================================
        | --------- | Grace Lee            | 45   | 160 h   | $7200     |
        | --------- | Ivy Clark            | 38   | 158 h   | $6004     |
        =================================================================
        | total :   | --------------------------- | 318 h   | $13204    |
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


    - python main.py .\data\data1.csv .\data\data2.csv --report avg-rate

    Пример вывода:

          MARKETING    name                   rate
        ============================================
        | ---------- | Alice Johnson        | 50   |
        | ---------- | Henry Martin         | 35   |
        ============================================
        | avg_rate : | -------------------- | 42.5 |
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


          DESIGN       name                   rate
        ============================================
        | ---------- | Bob Smith            | 40   |
        | ---------- | Carol Williams       | 60   |
        ============================================
        | avg_rate : | -------------------- | 50.0 |
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


          HR           name                   rate
        ============================================
        | ---------- | Grace Lee            | 45   |
        | ---------- | Ivy Clark            | 38   |
        ============================================
        | avg_rate : | -------------------- | 41.5 |
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    Доступные отчёты:

        1. payout - Отчёт по выплатам зарплат
        2. avg_rate - Отчет о средней ставке по отделам  #Пример


/|\ Добавление новых отчётов:

    1. Создайте файл в scripts/reports/ (например new_report.py)

    2. Реализуйте класс отчёта:


        from .base import AbstractReport
        from typing import List, Dict

        class NewReport(AbstractReport):
            
            @classmethod
            def generate(cls, employees: List[Dict]) -> str:
                """Логика генерации отчёта"""
                return "Ваш отчёт"
            
            @classmethod
            def get_name(cls) -> str:
                return "new_report"  #Имя для аргумента
        

    3. Зарегистрируйте отчёт в scripts/reports/__init__.py:


        from scripts.reports.new_report import NewReport

        REPORTS = {
            report.get_name(): report
            for report in [PayoutReport, NewReport]
        }


    4. Новый отчёт будет автоматически доступен (bash):
        - python main.py файлы.csv --report new_report


/|\ Тестирование

    1. Запуск тестов (bash):
        - pytest tests/ -v

    2. Проверка покрытия (bash):
        - pytest --cov=scripts tests/


/|\ Структура проекта

    test-task/
    |--- main.py                # Точка входа
    |--- scripts/
    |    |-- __init.py
    |    |-- file_reader.py     # Чтение CSV
    |    |-- reports/
    |        |- __init__.py
    |        |- base.py         # Базовый класс отчётов
    |        |- payout.py       # Отчёт по выплатам
    |        |- avg_rate.py     # Средняя ставка
    |--- data/                  # Папка для хранения CSV
    |--- tests/                 # Тесты
    |--- README.md              # Этот файл
    |--- .gitignore


/|\ Примеры CSV-файлов лежат в папке:

    test-task/
    |--- data/                  # Папка для хранения CSV файлов с данными
        |-- data1.csv           # 1-ый прмер файла
        |-- data2.csv           # 2-ый прмер файла
        |-- data3.csv           # 3-ый прмер файла